<!--
Security Headers for Static Site
GitHub Pages has limited server-side configuration, so we use meta tags and JavaScript
for client-side security implementations where possible.
-->

<!-- Content Security Policy via meta tag (limited compared to HTTP header) -->
<meta http-equiv="Content-Security-Policy" content="
  default-src 'self' https:;
  script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://www.googletagmanager.com https://analytics.google.com;
  style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://fonts.googleapis.com;
  img-src 'self' data: https: http://localhost:8000;
  font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net;
  connect-src 'self' https: http://localhost:8000;
  frame-ancestors 'none';
  base-uri 'self';
  form-action 'self';
  upgrade-insecure-requests;
">

<!-- Referrer Policy -->
<meta name="referrer" content="strict-origin-when-cross-origin">

<!-- Additional security meta tags -->
<meta http-equiv="X-Content-Type-Options" content="nosniff">
<meta http-equiv="X-Frame-Options" content="DENY">
<meta http-equiv="X-XSS-Protection" content="1; mode=block">

<!-- Permissions Policy (formerly Feature Policy) -->
<meta http-equiv="Permissions-Policy" content="
  geolocation=(),
  microphone=(),
  camera=(),
  payment=(),
  usb=(),
  magnetometer=(),
  gyroscope=(),
  speaker=(),
  vibrate=(),
  fullscreen=(self),
  sync-xhr=()
">

<script>
// Security: Disable eval and Function constructor in supported browsers
if (typeof window !== 'undefined') {
  // Prevent eval() usage
  window.eval = function() {
    throw new Error('eval() is disabled for security reasons');
  };
  
  // Prevent Function constructor usage  
  window.Function = function() {
    throw new Error('Function constructor is disabled for security reasons');
  };
}

// Security: Clear sensitive data from browser memory on page unload
window.addEventListener('beforeunload', function() {
  // Clear any sensitive data from memory if applicable
  if (window.sessionStorage) {
    // Only clear non-essential session data, preserve user experience data
    sessionStorage.removeItem('temp-auth-data');
  }
});
</script>